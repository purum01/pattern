<h3>모바일 게임 서버에 커맨드 패턴 적용</h3>
<pre><code id="source-code" class="language-java">
    public interface Command{
        void execute();
    }

    public class GotDiamondCommand implements Command{}

        // 멤버 변수와 코드 정의 생략
        public GotDiamondCommand(/* 데이터 */) {
        }
        
        //
        @Override
        public void execute() {
        // 해당 논리 실행 코드
        }
        
        // GotStartCommand 클래스, HitObstacleCommand 클래스, ArchiveCommand 클래스 구성 생략
        
    public class GameApplication {
        private static final int MAX_HANDLED_REQ_COUNT_PER_LOOP = 100;
        private Queue<Command> queue = new LinkedList<>();
    
        public void mainLoop() {
            while (true) {
                List<Request> requests = new ArrayList<>();
    
                // epoll, select에서 데이터를 가져와 Request 클래스를 만들었다고 가정
                // 처리 시간 초과 시 다음 코드 실행
                for (Request request : requests) {
                    Event event = request.getEvent();
                    Command command = null;
                    if (event.equals(Event.GOT_DIAMOND)) {
                        command = new GotDiamondCommand(/* 데이터 */);
                    } else if (event.equals(Event.GOT_START)) {
                        command = new GotStartCommand(/* 데이터 */);
                    } else if (event.equals(Event.HIT_OBSTACLE)) {
                        command = new HitObstacleCommand(/* 데이터 */);
                    } else if (event.equals(Event.ARCHIVE)) {
                        command = new ArchiveCommand(/* 데이터 */);
                    }
    
                    queue.add(command);
                }
    
                int handledCount = 0;
                while (handledCount < MAX_HANDLED_REQ_COUNT_PER_LOOP) {
                    if (queue.isEmpty()) {
                        break;
                    }
    
                    Command command = queue.poll();
                    command.execute();
                    handledCount++;
                }
            }
        }
    }
</code></pre>    
