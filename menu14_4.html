<link href="exam.css"   rel="stylesheet">
<script src="copy_button.js" ></script>

<!-- Display.java -->
<div class="file-box">
    <h3 class="file-title">Display.java</h3>
    <button class="copy-button" onclick="copyCode('code1')">복사하기</button>
    <pre class="code-box"><code id="code1">
public interface Display {
    int getColumns();                // 한 줄의 문자 수
    int getRows();                   // 줄 수
    String getRowText(int row);      // row번째 줄의 문자열

    default void show() {
        for (int i = 0; i < getRows(); i++) {
            System.out.println(getRowText(i));
        }
    }
}
</code></pre>
</div>

<!-- StringDisplay.java -->
<div class="file-box">
    <h3 class="file-title">StringDisplay.java</h3>
    <button class="copy-button" onclick="copyCode('code2')">복사하기</button>
    <pre class="code-box"><code id="code2">
public class StringDisplay implements Display {
    private String text;

    public StringDisplay(String text) {
        this.text = text;
    }

    @Override
    public int getColumns() {
        return text.length();
    }

    @Override
    public int getRows() {
        return 1;
    }

    @Override
    public String getRowText(int row) {
        if (row == 0) {
            return text;
        } else {
            throw new IndexOutOfBoundsException();
        }
    }
}
</code></pre>
</div>

<!-- Border.java -->
<div class="file-box">
    <h3 class="file-title">Border.java</h3>
    <button class="copy-button" onclick="copyCode('code3')">복사하기</button>
    <pre class="code-box"><code id="code3">
public abstract class Border implements Display {
    protected Display display; // 장식할 대상

    protected Border(Display display) {
        this.display = display;
    }
}
</code></pre>
</div>

<!-- FullBorder.java -->
<div class="file-box">
    <h3 class="file-title">FullBorder.java</h3>
    <button class="copy-button" onclick="copyCode('code4')">복사하기</button>
    <pre class="code-box"><code id="code4">
public class FullBorder extends Border {

    public FullBorder(Display display) {
        super(display);
    }

    @Override
    public int getColumns() {
        return 1 + display.getColumns() + 1;
    }

    @Override
    public int getRows() {
        return 1 + display.getRows() + 1;
    }

    @Override
    public String getRowText(int row) {
        if (row == 0 || row == getRows() - 1) {
            return "+" + makeLine('-', display.getColumns()) + "+";
        } else {
            return "|" + display.getRowText(row - 1) + "|";
        }
    }

    private String makeLine(char ch, int count) {
        return String.valueOf(ch).repeat(count);
    }
}
</code></pre>
</div>

<!-- SideBorder.java -->
<div class="file-box">
    <h3 class="file-title">SideBorder.java</h3>
    <button class="copy-button" onclick="copyCode('code5')">복사하기</button>
    <pre class="code-box"><code id="code5">
public class SideBorder extends Border {
    private char borderChar;

    public SideBorder(Display display, char ch) {
        super(display);
        this.borderChar = ch;
    }

    @Override
    public int getColumns() {
        return 1 + display.getColumns() + 1;
    }

    @Override
    public int getRows() {
        return display.getRows();
    }

    @Override
    public String getRowText(int row) {
        return borderChar + display.getRowText(row) + borderChar;
    }
}

</code></pre>
</div>

<!-- UpDownBorder.java -->
<div class="file-box">
    <h3 class="file-title">UpDownBorder.java</h3>
    <button class="copy-button" onclick="copyCode('code6')">복사하기</button>
    <pre class="code-box"><code id="code6">
public class UpDownBorder extends Border {
    private char borderChar;

    public UpDownBorder(Display display, char ch) {
        super(display);
        this.borderChar = ch;
    }

    @Override
    public int getColumns() {
        return display.getColumns();
    }

    @Override
    public int getRows() {
        return 1 + display.getRows() + 1;
    }

    @Override
    public String getRowText(int row) {
        if (row == 0 || row == getRows() - 1) {
            return repeat(borderChar, getColumns());
        } else {
            return display.getRowText(row - 1);
        }
    }

    private String repeat(char ch, int count) {
        return String.valueOf(ch).repeat(count);
    }
}
</code></pre>
</div>

<!-- Main.java -->
<div class="file-box">
    <h3 class="file-title">Main.java</h3>
    <button class="copy-button" onclick="copyCode('code7')">복사하기</button>
    <pre class="code-box"><code id="code7">
public class Main {
    public static void main(String[] args) {
        Display d = new UpDownBorder(
                        new FullBorder(
                            new SideBorder(
                                new StringDisplay("Hello, world."),
                                '#')),
                        '~');
        d.show();
    }
}
</code></pre>
</div>

